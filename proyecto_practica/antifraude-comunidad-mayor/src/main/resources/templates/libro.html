<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{master.html}">
<head>
<meta charset="utf-8">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link hrel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<title>[[${libro.titulo}]]</title>
</head>
<body>
<div class="container pt-5">
	<div layout:fragment="content" th:object="${libro}">
		<div class="row">
			<div class="col-md-6">
				<img th:src="@{/assets/{filename}(filename=*{rutaPortada})}"
					th:alt="*{titulo}" class="img-fluid rounded mx-auto d-block w-50">
			</div>
			<div class="col-md-6">
				<div class="text-end my-3">
					<button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#playModal">
					  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-headphones" viewBox="0 0 16 16">
                          <path d="M8 3a5 5 0 0 0-5 5v1h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V8a6 6 0 1 1 12 0v5a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1V8a5 5 0 0 0-5-5z"/>
                      </svg> Escuchar
 					</button>
					<!-- <a
						th:href="@{https://www.youtube.com/watch?v={youtubeId}(youtubeId=*{youtubeAudioId})}"
						class="btn btn-danger" data-fancybox=""> 
					</a> -->
				</div>
				<h2 th:text="*{titulo}"></h2>
				<div class="mb-3">
					<span class="badge rounded-pull bg-light text-dark me-1"
						th:each="genero : *{generos}" th:text="${genero.titulo}"></span>
					<p th:text="*{sinopsis}"></p>
				</div>
			</div>
		</div>

		<div class="modal fade" id="playModal" tabindex="-1" aria-labelledby="playModalLabel" aria-hidden="true">
		  <div class="modal-dialog modal-dialog-centered modal-xl" style="width: 100vw;">
		    <div class="modal-content">
		      <div class="modal-header">
		     	 <h5 class="modal-title" th:text="*{titulo}"></h5>
		        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		      </div>
		      <div class="modal-body">
		       <iframe th:src="@{https://www.youtube.com/embed/{youtubeId}(youtubeId=*{youtubeAudioId})}" 
		       		   title="YouTube video player" frameborder="0" 
		       		   allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
		       		   allowfullscreen
		       		   style="width: 100%; height: 60vh;">  
		     	</iframe>
		      </div>
		    </div>
			</div>
		</div>
	</div>
</div>	

</body>
</html>